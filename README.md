# 期末專案報告：《教科大冒險：智慧試煉》
### 一、遊戲操作說明 
本遊戲《教育科技大冒險》結合了角色扮演 (RPG)、平台跳躍與益智問答元素，旨在透過互動遊戲的方式，複習教育科技領域的專業知識。

1. 遊戲目標
玩家需扮演主角，通過回答教育科技相關問題賺取金幣與分數，並在冒險過程中維持生命值（愛心）。最終目標是挑戰 Boss（角色3），成功躲避攻擊並擊敗它，取得通關鑰匙。

2. 基礎操作與按鍵
移動角色： 鍵盤 ← (左) 、 → (右)。

跳躍 (僅限平台場景)： 鍵盤 ↑ (上)。

發射魔法/激光： 鍵盤 ↓ (下)（需在特定戰鬥模式下）。

互動/戰鬥姿態： 鍵盤 F 鍵（進入 Boss 戰鬥模式）。

暫停遊戲： 鍵盤 P 鍵或 空白鍵。

答題輸入： 使用滑鼠點擊輸入框，輸入答案後點擊「送出」。

使用提示： 點擊畫面上的「💡 使用提示」按鈕（消耗一把鑰匙）。

3. 遊戲流程與場景
初始場景 (問答區)： 遇到考官（角色2），需回答 CSV 題庫中的問題。答對獲得金幣並升級，答錯扣除愛心。

左側場景 (瑪利歐模式)： 當角色往最左邊移動時進入。此模式具備重力物理引擎，玩家可跳上隱形台階，蒐集懸浮的愛心來恢復生命值。

右側場景 (Boss 戰模式)： 當角色往最右邊移動時進入。

按下 F 鍵開始戰鬥。

Boss 會發射投射物攻擊，玩家需走位躲避。

玩家可發射魔法反擊，削減 Boss 血量。

獲勝後會掉落鑰匙，滑鼠點擊拾取即可通關。

失敗懲罰： 若愛心歸零，將觸發「炸彈處決動畫」，隨後紅幕拉下顯示 Game Over。

### 二、程式設計與主要功能說明 
本專案使用 p5.js 函式庫開發，結合 HTML/CSS 介面與 CSV 資料庫，主要技術亮點如下：

1. 資料驅動的題庫系統 
功能： 遊戲題目並非寫死在程式碼中，而是透過 loadTable 讀取外部的 quiz.csv 檔案。

優勢： 實現了「內容與程式分離」。若要新增或修改考題，只需編輯 Excel/CSV 檔，無需更動程式碼，便於維護與擴充。

2. 複雜的動畫精靈系統 
技術： 使用 Sprite Sheet（精靈圖表）技術，將角色的連續動作（待機、走路、施法、受傷、倒下）整合在一張圖中。

實作： 撰寫了 drawSprite 函式，透過計算幀數（Frame Count）與座標偏移，讓角色展現流暢的動態視覺效果，而非靜態圖片移動。

3. 多重遊戲狀態機
為了管理複雜的遊戲流程，程式中設計了多種狀態切換：

STATE (Loading, Title, Asking, Feedback, Death, Gameover)

BG_STATE (Scene1 測驗, Scene2 Boss戰, Scene3 平台跳躍)

透過 switch-case 結構，在不同狀態下渲染不同的 UI 與邏輯（例如在測驗時顯示輸入框，在戰鬥時顯示血條）。

4. 物理碰撞與互動機制
平台跳躍： 在場景三實作了重力  與速度 的物理運算，讓角色能真實地跳躍與落地，並偵測與台階的碰撞。

戰鬥判定： 實作了「矩形碰撞偵測」與「距離偵測 」，用於判斷玩家是否被弓箭射中、魔法是否擊中 Boss、以及是否吃到愛心或鑰匙。

5. 視覺與聽覺回饋 
粒子特效： 答對題目時的金幣噴發、戰鬥時的魔法粒子、背景的時空線條特效。

轉場效果： 場景切換時的「黑色淡入淡出」、失敗時的「布幕落下」動畫。

音效整合： 使用 p5.sound 載入背景音樂 (music.mp3) 與音效（勝利 win.mp3、失敗 lose.mp3），並解決瀏覽器自動播放限制的問題。

### 三、AI 協作過程與心得
本專案是透過與大型語言模型 (AI) 的深度協作完成，開發過程展現了「人類作為設計者，AI 作為執行者」的合作模式。

#### 1. 階段一：素材準備與架構生成
指令： 我首先請 AI 根據「教育科技學系」的專業內容，生成一份包含題目、答案、詳解與提示的 CSV 檔案。

產出： 快速建立了專業的題庫資料，節省了大量人工出題的時間。

#### 2. 階段二：核心功能開發 
指令： 我要求 AI 提供 p5.js 的基礎架構，包含讀取 CSV、顯示對話框、以及基本的角色問答邏輯。

迭代： 初始版本只有簡單的文字互動，我進一步要求加入「角色圖案」與「背景切換」，讓介面從純文字轉變為圖形化遊戲。

#### 3. 階段三：遊戲性擴充
指令： 為了增加趣味性，我提出了具體的遊戲機制需求：「左邊要有像瑪利歐一樣的跳躍台階」、「右邊要有 Boss 戰，還要能發射激光」。

解決問題： 在開發 Boss 戰時，曾遇到碰撞偵測不準確的問題，我將程式碼貼回給 AI，請它優化碰撞邏輯並加入 Boss 的血量條與攻擊模式。

#### 4. 階段四：視覺優化與除錯 
指令： 最後階段，我專注於「打擊感」與「完整度」。我要求加入炸彈處決動畫、紅幕轉場、以及背景音樂。

協作心得： 在這個過程中，我學會了如何用精確的「文字指令」描述視覺需求（例如：請幫我做一個由上而下的布幕動畫）。AI 雖然能寫出程式碼，但「創意」與「遊戲邏輯的合理性」仍需由我來把關與調整。
